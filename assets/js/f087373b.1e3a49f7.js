"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[771],{876:(e,t,n)=>{n.d(t,{Zo:()=>s,kt:()=>g});var a=n(2784);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var p=a.createContext({}),u=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},s=function(e){var t=u(e.components);return a.createElement(p.Provider,{value:t},e.children)},d="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,p=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),d=u(n),m=o,g=d["".concat(p,".").concat(m)]||d[m]||c[m]||r;return n?a.createElement(g,i(i({ref:t},s),{},{components:n})):a.createElement(g,i({ref:t},s))}));function g(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,i=new Array(r);i[0]=m;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l[d]="string"==typeof e?e:o,i[1]=l;for(var u=2;u<r;u++)i[u]=n[u];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},6116:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>u,default:()=>y,frontMatter:()=>p,metadata:()=>s,toc:()=>c});var a=n(7896),o=(n(2784),n(876)),r=n(1850),i=n(5405),l=n(4332);const p={id:"get-started",title:"Get started"},u=void 0,s={unversionedId:"get-started/get-started",id:"get-started/get-started",title:"Get started",description:"Grafana's plugin tools offer an officially supported way to extend Grafana's core functionality. We have designed these tools to help you to develop your plugins faster with a modern build setup and zero configuration.",source:"@site/../docs/get-started/get-started.mdx",sourceDirName:"get-started",slug:"/get-started/",permalink:"/plugin-tools/docs/get-started/",draft:!1,editUrl:"https://github.com/grafana/plugin-tools/edit/main/docusaurus/website/../docs/get-started/get-started.mdx",tags:[],version:"current",frontMatter:{id:"get-started",title:"Get started"},sidebar:"docs",previous:{title:"Data frames",permalink:"/plugin-tools/docs/introduction/data-frames"},next:{title:"Folder structure",permalink:"/plugin-tools/docs/get-started/folder-structure"}},d={},c=[{value:"Quick Start",id:"quick-start",level:2},{value:"Before you begin",id:"before-you-begin",level:3},{value:"Supported operating systems",id:"supported-operating-systems",level:4},{value:"Supported Grafana version",id:"supported-grafana-version",level:4},{value:"Recommended tooling",id:"recommended-tooling",level:4},{value:"Choose a package manager",id:"choose-a-package-manager",level:4},{value:"Output",id:"output",level:2},{value:"Create-plugin prompts reference",id:"create-plugin-prompts-reference",level:2},{value:"What is the name of your plugin?",id:"what-is-the-name-of-your-plugin",level:3},{value:"What is the organization name of your plugin?",id:"what-is-the-organization-name-of-your-plugin",level:3},{value:"How would you describe your plugin?",id:"how-would-you-describe-your-plugin",level:3},{value:"What type of plugin would you like?",id:"what-type-of-plugin-would-you-like",level:3},{value:"Do you want a backend part of your plugin?",id:"do-you-want-a-backend-part-of-your-plugin",level:3},{value:"Do you want to add Github CI and Release workflows?",id:"do-you-want-to-add-github-ci-and-release-workflows",level:3},{value:"Do you want to add a Github workflow to automatically check Grafana API compatibility on PRs?",id:"do-you-want-to-add-a-github-workflow-to-automatically-check-grafana-api-compatibility-on-prs",level:3},{value:"Key CLI commands",id:"key-cli-commands",level:2},{value:'<SyncCommand cmd="run dev" />',id:"synccommand-cmdrun-dev-",level:3},{value:'<SyncCommand cmd="run test" />',id:"synccommand-cmdrun-test-",level:3},{value:'<SyncCommand cmd="run build" />',id:"synccommand-cmdrun-build-",level:3}],m=e=>function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,o.kt)("div",t)},g=m("CodeSnippets"),h=m("SyncCommand"),f={toc:c},k="wrapper";function y(e){let{components:t,...n}=e;return(0,o.kt)(k,(0,a.Z)({},f,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"Grafana's plugin tools offer an officially supported way to extend Grafana's core functionality. We have designed these tools to help you to develop your plugins faster with a modern build setup and zero configuration."),(0,o.kt)("p",null,"The plugin tools consist of two packages:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"create-plugin"),": A CLI to scaffold new plugins or migrate plugins created with ",(0,o.kt)("inlineCode",{parentName:"li"},"@grafana/toolkit"),"."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"sign-plugin"),": A CLI to sign plugins for distribution.")),(0,o.kt)("h2",{id:"quick-start"},"Quick Start"),(0,o.kt)("p",null,"To scaffold your plugin, follow these steps:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Run the following command:"),(0,o.kt)(g,{snippets:[{component:r.ZP,label:"npm"},{component:i.ZP,label:"pnpm"},{component:l.ZP,label:"yarn"}],groupId:"package-manager",queryString:"current-package-manager",mdxType:"CodeSnippets"})),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"When prompted, enter answers to the given questions. For example:"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre"},"? What is going to be the name of your plugin?: _mongodb_\n? What is the organization name of your plugin?: _grafana_\n? What type of plugin would you like?: _datasource_\n")),(0,o.kt)("p",{parentName:"li"},"If you enter those values for name, organization, and plugin type, then the directory and plugin ID will be named ",(0,o.kt)("inlineCode",{parentName:"p"},"grafana-mongodb-datasource"),"."),(0,o.kt)("admonition",{parentName:"li",type:"note"},(0,o.kt)("p",{parentName:"admonition"},"If you have previously built a plugin with ",(0,o.kt)("inlineCode",{parentName:"p"},"@grafana/toolkit"),", you can use our plugin tools to simplify migration. For more information, refer to the ",(0,o.kt)("a",{parentName:"p",href:"./migrate-from-toolkit"},"Migration guide"),".")))),(0,o.kt)("h3",{id:"before-you-begin"},"Before you begin"),(0,o.kt)("p",null,"Make sure you are using supported a supported OS, Grafana version, and tooling."),(0,o.kt)("h4",{id:"supported-operating-systems"},"Supported operating systems"),(0,o.kt)("p",null,"Grafana plugin tools work with the following operating systems:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Linux"),(0,o.kt)("li",{parentName:"ul"},"macOS"),(0,o.kt)("li",{parentName:"ul"},"Windows 10+ with WSL (Windows Subsystem for Linux)")),(0,o.kt)("h4",{id:"supported-grafana-version"},"Supported Grafana version"),(0,o.kt)("p",null,"We generally recommend that you build for a version of Grafana later than v9.0. For more information about requirements and dependencies when developing with Grafana, see the ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/grafana/grafana/blob/main/contribute/developer-guide.md"},"Grafana developer's guide"),"."),(0,o.kt)("h4",{id:"recommended-tooling"},"Recommended tooling"),(0,o.kt)("p",null,"You'll need to have the following tools set up:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://go.dev/doc/install"},"Go")," version 1.18 or above"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://magefile.org/"},"Mage")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://nodejs.org/en/download/"},"Node.js")," version 16 or above"),(0,o.kt)("li",{parentName:"ul"},"Optionally ",(0,o.kt)("a",{parentName:"li",href:"https://classic.yarnpkg.com/lang/en/docs/install"},"Yarn 1")," or ",(0,o.kt)("a",{parentName:"li",href:"https://pnpm.io/installation"},"PNPM")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://docs.docker.com/get-docker/"},"Docker"),".")),(0,o.kt)("h4",{id:"choose-a-package-manager"},"Choose a package manager"),(0,o.kt)("p",null,"When you first run ",(0,o.kt)("inlineCode",{parentName:"p"},"@grafana/create-plugin"),", choose your package manager: ",(0,o.kt)("inlineCode",{parentName:"p"},"npm"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"pnpm"),", or ",(0,o.kt)("inlineCode",{parentName:"p"},"yarn"),"."),(0,o.kt)("h2",{id:"output"},"Output"),(0,o.kt)("p",null,"Run the above command to create a directory called ",(0,o.kt)("inlineCode",{parentName:"p"},"<orgName>-<pluginName>-<pluginType>")," inside the current directory. This directory contains the initial project structure to kickstart your plugin development."),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"The directory name ",(0,o.kt)("inlineCode",{parentName:"p"},"<orgName>-<pluginName>-<pluginType>")," is based on the answers you gave to the prompts. Use the name of the generated folder when prompted.")),(0,o.kt)("p",null,"Depending on the answers you gave to the prompts, there should now be a structure like:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"<orgName>-<pluginName>-<pluginType>\n\u251c\u2500\u2500 .config/\n\u251c\u2500\u2500 .eslintrc\n\u251c\u2500\u2500 .github\n\u2502\xa0\xa0 \u2514\u2500\u2500 workflows\n\u251c\u2500\u2500 .gitignore\n\u251c\u2500\u2500 .nvmrc\n\u251c\u2500\u2500 .prettierrc.js\n\u251c\u2500\u2500 CHANGELOG.md\n\u251c\u2500\u2500 LICENSE\n\u251c\u2500\u2500 Magefile.go\n\u251c\u2500\u2500 README.md\n\u251c\u2500\u2500 cypress\n\u2502\xa0\xa0 \u2514\u2500\u2500 integration\n\u251c\u2500\u2500 docker-compose.yaml\n\u251c\u2500\u2500 go.mod\n\u251c\u2500\u2500 go.sum\n\u251c\u2500\u2500 jest-setup.js\n\u251c\u2500\u2500 jest.config.js\n\u251c\u2500\u2500 node_modules\n\u251c\u2500\u2500 package.json\n\u251c\u2500\u2500 pkg\n\u2502\xa0\xa0 \u251c\u2500\u2500 main.go\n\u2502\xa0\xa0 \u2514\u2500\u2500 plugin\n\u251c\u2500\u2500 src\n\u2502\xa0\xa0 \u251c\u2500\u2500 README.md\n\u2502\xa0\xa0 \u251c\u2500\u2500 components\n\u2502\xa0\xa0 \u251c\u2500\u2500 datasource.ts\n\u2502\xa0\xa0 \u251c\u2500\u2500 img\n\u2502\xa0\xa0 \u251c\u2500\u2500 module.ts\n\u2502\xa0\xa0 \u251c\u2500\u2500 plugin.json\n\u2502\xa0\xa0 \u2514\u2500\u2500 types.ts\n\u2514\u2500\u2500 tsconfig.json\n")),(0,o.kt)("p",null,"When you've finished installing the tools, open the plugin folder:"),(0,o.kt)(g,{paths:["createplugin-install.npm.shell.md","createplugin-install.pnpm.shell.md","createplugin-install.yarn.shell.md"],groupId:"package-manager",queryString:"current-package-manager",mdxType:"CodeSnippets"}),(0,o.kt)("h2",{id:"create-plugin-prompts-reference"},"Create-plugin prompts reference"),(0,o.kt)("p",null,"When running the ",(0,o.kt)("inlineCode",{parentName:"p"},"create-plugin")," command, the following prompts appear:"),(0,o.kt)("h3",{id:"what-is-the-name-of-your-plugin"},"What is the name of your plugin?"),(0,o.kt)("p",null,"Enter the name of your plugin. This helps to identify its purpose."),(0,o.kt)("h3",{id:"what-is-the-organization-name-of-your-plugin"},"What is the organization name of your plugin?"),(0,o.kt)("p",null,"Enter the name of your organization. Grafana plugins require an organization name (normally your ",(0,o.kt)("a",{parentName:"p",href:"https://grafana.com/signup/"},"Grafana account")," username) to help uniquely identify your plugin."),(0,o.kt)("h3",{id:"how-would-you-describe-your-plugin"},"How would you describe your plugin?"),(0,o.kt)("p",null,"Give your plugin a description. This will help users more easily understand what it does when the plugin is distributed."),(0,o.kt)("h3",{id:"what-type-of-plugin-would-you-like"},"What type of plugin would you like?"),(0,o.kt)("p",null,"Select from the following choices:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"app"),": Create a custom out-of-the-box monitoring experience."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"datasource"),": Add support for new databases or external APIs."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"panel"),": Add new visualizations to dashboards."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"scenesapp"),": Create scenes applications or scenes plugins (that is, dashboard-like experiences in app plugins). Currently in public preview.")),(0,o.kt)("p",null,"To learn more about the types of plugins, refer to the ",(0,o.kt)("a",{parentName:"p",href:"https://grafana.com/docs/grafana/latest/administration/plugin-management/"},"plugin management guidelines"),".\nTo learn more about scenes, refer to the ",(0,o.kt)("a",{parentName:"p",href:"https://grafana.github.io/scenes/"},"Scenes documentation"),"."),(0,o.kt)("h3",{id:"do-you-want-a-backend-part-of-your-plugin"},"Do you want a backend part of your plugin?"),(0,o.kt)("p",null,"App and data source plugins can have a backend component written in Go. Backend plugins offer powerful features such as:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Enable ",(0,o.kt)("a",{parentName:"li",href:"https://grafana.com/docs/grafana/latest/alerting/"},"Grafana Alerting")," for data sources."),(0,o.kt)("li",{parentName:"ul"},"Connect to non-HTTP services to which a browser normally can\u2019t connect. For example, SQL database servers."),(0,o.kt)("li",{parentName:"ul"},"Keep state between users. For example, query caching for data sources."),(0,o.kt)("li",{parentName:"ul"},"Use custom authentication methods and/or authorization checks that aren\u2019t supported in Grafana."),(0,o.kt)("li",{parentName:"ul"},"Use a custom data source request proxy. To learn more, refer to ",(0,o.kt)("a",{parentName:"li",href:"https://grafana.com/docs/grafana/latest/developers/plugins/backend/#resources"},"Backend developer resources"),".")),(0,o.kt)("h3",{id:"do-you-want-to-add-github-ci-and-release-workflows"},"Do you want to add Github CI and Release workflows?"),(0,o.kt)("p",null,"Add ",(0,o.kt)("a",{parentName:"p",href:"/docs/create-a-plugin/set-up-github-workflows"},"Github workflows")," to your development cycle to help catch issues early or release your plugin to the community."),(0,o.kt)("h3",{id:"do-you-want-to-add-a-github-workflow-to-automatically-check-grafana-api-compatibility-on-prs"},"Do you want to add a Github workflow to automatically check Grafana API compatibility on PRs?"),(0,o.kt)("p",null,"Add a ",(0,o.kt)("a",{parentName:"p",href:"/docs/create-a-plugin/set-up-github-workflows#the-compatibility-check-is-compatibleyml"},"Github workflow")," to regularly check that your plugin is compatible with the latest version of Grafana."),(0,o.kt)("h2",{id:"key-cli-commands"},"Key CLI commands"),(0,o.kt)("p",null,"After ",(0,o.kt)("inlineCode",{parentName:"p"},"create-plugin")," has finished, you can run built-in commands in the shell:"),(0,o.kt)("h3",{id:"synccommand-cmdrun-dev-"},(0,o.kt)(h,{cmd:"run dev",mdxType:"SyncCommand"})),(0,o.kt)("p",null,"Builds the plugin in ",(0,o.kt)("em",{parentName:"p"},"development mode")," and runs in ",(0,o.kt)("em",{parentName:"p"},"watch mode"),". Rebuilds the plugin whenever you make changes to the code. You'll see build errors and lint warnings in the console."),(0,o.kt)("h3",{id:"synccommand-cmdrun-test-"},(0,o.kt)(h,{cmd:"run test",mdxType:"SyncCommand"})),(0,o.kt)("p",null,"Runs the tests and watches for changes."),(0,o.kt)("h3",{id:"synccommand-cmdrun-build-"},(0,o.kt)(h,{cmd:"run build",mdxType:"SyncCommand"})),(0,o.kt)("p",null,"Creates a production build of the plugin that optimizes for the best performance. Minifies the build and includes hashes in the filenames."),(0,o.kt)("h3",null,(0,o.kt)("code",null,"mage -v")),(0,o.kt)("p",null,"Builds backend plugin binaries for Linux, Windows and Darwin."))}y.isMDXComponent=!0},1850:(e,t,n)=>{n.d(t,{ZP:()=>l});var a=n(7896),o=(n(2784),n(876));const r={toc:[]},i="wrapper";function l(e){let{components:t,...n}=e;return(0,o.kt)(i,(0,a.Z)({},r,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"npx @grafana/create-plugin@latest\n")))}l.isMDXComponent=!0},5405:(e,t,n)=>{n.d(t,{ZP:()=>l});var a=n(7896),o=(n(2784),n(876));const r={toc:[]},i="wrapper";function l(e){let{components:t,...n}=e;return(0,o.kt)(i,(0,a.Z)({},r,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"pnpm dlx @grafana/create-plugin@latest\n")))}l.isMDXComponent=!0},4332:(e,t,n)=>{n.d(t,{ZP:()=>l});var a=n(7896),o=(n(2784),n(876));const r={toc:[]},i="wrapper";function l(e){let{components:t,...n}=e;return(0,o.kt)(i,(0,a.Z)({},r,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"yarn create @grafana/plugin\n")))}l.isMDXComponent=!0}}]);